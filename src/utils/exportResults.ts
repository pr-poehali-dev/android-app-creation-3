export const getDepressionLevel = (score: number) => {
  if (score <= 6) return '–ù–∏–∑–∫–∏–π';
  if (score <= 12) return '–£–º–µ—Ä–µ–Ω–Ω—ã–π';
  if (score <= 18) return '–°—Ä–µ–¥–Ω–∏–π';
  return '–í—ã—Å–æ–∫–∏–π';
};

export const getStressLevel = (score: number) => {
  if (score <= 6) return '–ù–∏–∑–∫–∏–π';
  if (score <= 12) return '–£–º–µ—Ä–µ–Ω–Ω—ã–π';
  if (score <= 18) return '–°—Ä–µ–¥–Ω–∏–π';
  return '–í—ã—Å–æ–∫–∏–π';
};

export const getAnxietyLevel = (score: number) => {
  if (score <= 6) return '–ù–∏–∑–∫–∏–π';
  if (score <= 12) return '–£–º–µ—Ä–µ–Ω–Ω—ã–π';
  if (score <= 18) return '–°—Ä–µ–¥–Ω–∏–π';
  return '–í—ã—Å–æ–∫–∏–π';
};

const generalRecommendations = [
  {
    title: '–ó–¥–æ—Ä–æ–≤—ã–π —Å–æ–Ω',
    description: '–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Å–ø–∞—Ç—å 7-9 —á–∞—Å–æ–≤ –≤ —Å—É—Ç–∫–∏. –°–æ–±–ª—é–¥–∞–π—Ç–µ —Ä–µ–∂–∏–º —Å–Ω–∞.',
  },
  {
    title: '–§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
    description: '–†–µ–≥—É–ª—è—Ä–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç —Å–Ω–∏–∑–∏—Ç—å —Å—Ç—Ä–µ—Å—Å –∏ —É–ª—É—á—à–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ.',
  },
  {
    title: '–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ',
    description: '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Å–∏—Ö–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.',
  },
  {
    title: '–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã',
    description: '–û–±—â–µ–Ω–∏–µ —Å –±–ª–∏–∑–∫–∏–º–∏ –ª—é–¥—å–º–∏ –ø–æ–º–æ–≥–∞–µ—Ç —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏.',
  },
  {
    title: '–ü—Ä–∞–∫—Ç–∏–∫–∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏',
    description: '–ú–µ–¥–∏—Ç–∞—Ü–∏—è –∏ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç —Å–Ω–∏–∑–∏—Ç—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å.',
  },
  {
    title: '–•–æ–±–±–∏ –∏ —É–≤–ª–µ—á–µ–Ω–∏—è',
    description: '–£–¥–µ–ª—è–π—Ç–µ –≤—Ä–µ–º—è —Ç–æ–º—É, —á—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç –≤–∞–º —Ä–∞–¥–æ—Å—Ç—å –∏ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ.',
  },
];

export const generateResultsText = (depressionScore: number, stressScore: number, anxietyScore: number): string => {
  const maxScore = 24;
  const depressionLevel = getDepressionLevel(depressionScore);
  const stressLevel = getStressLevel(stressScore);
  const anxietyLevel = getAnxietyLevel(anxietyScore);
  const needsProfessionalHelp = depressionScore > 12 || stressScore > 12 || anxietyScore > 12;
  const hasModerateSymptoms = depressionScore > 6 || stressScore > 6 || anxietyScore > 6;
  const date = new Date().toLocaleDateString('ru-RU', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });

  let text = `‚ú® –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –ú–ï–ù–¢–ê–õ–¨–ù–û–ì–û –ó–î–û–†–û–í–¨–Ø ‚ú®\n`;
  text += `–î–∞—Ç–∞: ${date}\n`;
  text += `\n${'‚îÅ'.repeat(60)}\n\n`;

  text += `üìä –í–ê–®–ò –ü–û–ö–ê–ó–ê–¢–ï–õ–ò:\n\n`;
  text += `üß† –î–µ–ø—Ä–µ—Å—Å–∏—è: ${depressionScore} –∏–∑ ${maxScore} ‚Äî ${depressionLevel} —É—Ä–æ–≤–µ–Ω—å\n`;
  text += `‚ö° –°—Ç—Ä–µ—Å—Å: ${stressScore} –∏–∑ ${maxScore} ‚Äî ${stressLevel} —É—Ä–æ–≤–µ–Ω—å\n`;
  text += `üí≠ –¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: ${anxietyScore} –∏–∑ ${maxScore} ‚Äî ${anxietyLevel} —É—Ä–æ–≤–µ–Ω—å\n\n`;

  text += `${'‚îÅ'.repeat(60)}\n\n`;
  text += `üîç –ß–¢–û –≠–¢–û –ó–ù–ê–ß–ò–¢ –î–õ–Ø –í–ê–°:\n\n`;
  
  if (depressionScore <= 6) {
    text += `‚úÖ –î–µ–ø—Ä–µ—Å—Å–∏—è: –û—Ç–ª–∏—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏! –í–∞—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ, –≤—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å –∫ –∂–∏–∑–Ω–∏ –∏ —É–º–µ–µ—Ç–µ —Ä–∞–¥–æ–≤–∞—Ç—å—Å—è. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —Å–µ–±–µ!\n\n`;
  } else if (depressionScore <= 12) {
    text += `üíõ –î–µ–ø—Ä–µ—Å—Å–∏—è: –í—ã –∑–∞–º–µ—á–∞–µ—Ç–µ –ª–µ–≥–∫—É—é –≥—Ä—É—Å—Ç—å –∏ —Å–Ω–∏–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫ –ª—é–±–∏–º—ã–º –∑–∞–Ω—è—Ç–∏—è–º. –≠—Ç–æ —Å–∏–≥–Ω–∞–ª ‚Äî –ø–æ—Ä–∞ –ø–æ–∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —Å–µ–±–µ! –Ø –ø–æ–º–æ–≥—É –≤–∞–º –≤–µ—Ä–Ω—É—Ç—å —Ä–∞–¥–æ—Å—Ç—å –∂–∏–∑–Ω–∏ –∏ —ç–Ω–µ—Ä–≥–∏—é.\n\n`;
  } else if (depressionScore <= 18) {
    text += `üß° –î–µ–ø—Ä–µ—Å—Å–∏—è: –°–µ–π—á–∞—Å –≤–∞–º —Å–ª–æ–∂–Ω–æ ‚Äî –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –Ω–∞ –Ω—É–ª–µ, —ç–Ω–µ—Ä–≥–∏–∏ –Ω–µ—Ç, —Å–æ–Ω –Ω–∞—Ä—É—à–µ–Ω. –ù–æ –µ—Å—Ç—å —Ö–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å: —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å–Ω–æ–≤–∞ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –≤–∫—É—Å –∫ –∂–∏–∑–Ω–∏.\n\n`;
  } else {
    text += `‚ù§Ô∏è –î–µ–ø—Ä–µ—Å—Å–∏—è: –í—ã –ø–µ—Ä–µ–∂–∏–≤–∞–µ—Ç–µ –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã–π –ø–µ—Ä–∏–æ–¥ ‚Äî —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –ø–æ–¥–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å, –±–µ—Å–ø–æ–º–æ—â–Ω–æ—Å—Ç—å, –ø–æ—Ç–µ—Ä—é —Å–º—ã—Å–ª–∞. –ó–Ω–∞–π—Ç–µ: –≤—ã –Ω–µ –æ–¥–∏–Ω–æ–∫–∏, –∏ –≤—ã—Ö–æ–¥ –µ—Å—Ç—å. –Ø —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ —Ä–∞–±–æ—Ç–µ —Å –¥–µ–ø—Ä–µ—Å—Å–∏–µ–π –∏ –ø–æ–º–æ–≥—É –≤–∞–º —à–∞–≥ –∑–∞ —à–∞–≥–æ–º –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –∂–∏–∑–Ω–∏.\n\n`;
  }

  if (stressScore <= 6) {
    text += `‚úÖ –°—Ç—Ä–µ—Å—Å: –í—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å —Å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏! –£–º–µ–µ—Ç–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –±–∞–ª–∞–Ω—Å. –≠—Ç–æ –±–æ–ª—å—à–∞—è —Å–∏–ª–∞!\n\n`;
  } else if (stressScore <= 12) {
    text += `üíõ –°—Ç—Ä–µ—Å—Å: –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É, —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç–µ—Å—å, —Å–ª–æ–∂–Ω–æ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è. –°—Ç—Ä–µ—Å—Å –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è ‚Äî –≤–∞–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å. –Ø –Ω–∞—É—á—É –≤–∞—Å —Ç–µ—Ö–Ω–∏–∫–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç.\n\n`;
  } else if (stressScore <= 18) {
    text += `üß° –°—Ç—Ä–µ—Å—Å: –°—Ç—Ä–µ—Å—Å —Å–µ—Ä—å–µ–∑–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∞—à—É –∂–∏–∑–Ω—å ‚Äî –≥–æ–ª–æ–≤–Ω—ã–µ –±–æ–ª–∏, –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, —Å–ª–æ–∂–Ω–æ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è. –í–∞—à–µ —Ç–µ–ª–æ –∏ —Ä–∞–∑—É–º –∫—Ä–∏—á–∞—Ç SOS. –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –∏ –Ω–∞—É—á—É —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç—Ä–µ—Å—Å–æ–º.\n\n`;
  } else {
    text += `‚ù§Ô∏è –°—Ç—Ä–µ—Å—Å: –í—ã –Ω–∞ –ø—Ä–µ–¥–µ–ª–µ ‚Äî —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä—É—à–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏. –°—Ä–æ—á–Ω–æ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å! –Ø –ø–æ–º–æ–≥—É –≤–∞–º –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç —Ü–∏–∫–ª –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã.\n\n`;
  }

  if (anxietyScore <= 6) {
    text += `‚úÖ –¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: –í—ã —Å–ø–æ–∫–æ–π–Ω—ã –∏ —É–≤–µ—Ä–µ–Ω—ã –≤ —Å–µ–±–µ! –£–º–µ–µ—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ –∏ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.\n\n`;
  } else if (anxietyScore <= 12) {
    text += `üíõ –¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: –¢—Ä–µ–≤–æ–∂–Ω—ã–µ –º—ã—Å–ª–∏ –≤—Å—ë —á–∞—â–µ –æ–¥–æ–ª–µ–≤–∞—é—Ç –≤–∞—Å, –±–µ—Å–ø–æ–∫–æ–∏—Ç–µ—Å—å –æ –±—É–¥—É—â–µ–º, —Å–ª–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ª–Ω–µ–Ω–∏–µ. –Ø –ø–æ–º–æ–≥—É –≤–∞–º –Ω–∞—É—á–∏—Ç—å—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–µ–≤–æ–≥–æ–π –∏ –≤–µ—Ä–Ω—É—Ç—å —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ.\n\n`;
  } else if (anxietyScore <= 18) {
    text += `üß° –¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: –¢—Ä–µ–≤–æ–≥–∞ –º–µ—à–∞–µ—Ç –∂–∏—Ç—å ‚Äî –∏–∑–±–µ–≥–∞–µ—Ç–µ —Å–∏—Ç—É–∞—Ü–∏–π, —É—á–∞—â–∞–µ—Ç—Å—è –ø—É–ª—å—Å, –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –≤–æ–∑–¥—É—Ö–∞. –ö–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏ –ø–∞–¥–∞–µ—Ç. –Ø —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ —Ä–∞–±–æ—Ç–µ —Å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å—é –∏ –ø–æ–º–æ–≥—É –≤–∞–º –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å —Å—Ç—Ä–∞—Ö–∏.\n\n`;
  } else {
    text += `‚ù§Ô∏è –¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: –ü–∞–Ω–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏, —Å–∏–ª—å–Ω—ã–π —Å—Ç—Ä–∞—Ö –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã ‚Äî —ç—Ç–æ –Ω–µ–≤—ã–Ω–æ—Å–∏–º–æ —Ç—è–∂–µ–ª–æ. –ù–æ —ç—Ç–æ –∏–∑–ª–µ—á–∏–º–æ! –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å –ø–∞–Ω–∏–∫–æ–π –∏ –≤–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é.\n\n`;
  }

  if (needsProfessionalHelp) {
    text += `${'‚îÅ'.repeat(60)}\n\n`;
    text += `üåü –í–ê–ñ–ù–û–ï –°–û–û–ë–©–ï–ù–ò–ï –î–õ–Ø –í–ê–°:\n\n`;
    text += `–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞. –ò —ç—Ç–æ –ù–ï —Å–ª–∞–±–æ—Å—Ç—å ‚Äî —ç—Ç–æ –º—É–¥—Ä–æ—Å—Ç—å –∏ –∑–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ!\n\n`;
    text += `üí™ –Ø –ø–æ–º–æ–≥—É –≤–∞–º:\n`;
    text += `‚Ä¢ –í—ã–π—Ç–∏ –∏–∑ –¥–µ–ø—Ä–µ—Å—Å–∏–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å —Ä–∞–¥–æ—Å—Ç—å –∂–∏–∑–Ω–∏\n`;
    text += `‚Ä¢ –ü–µ—Ä–µ—Å—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω–µ—Ä–≤–Ω–∏—á–∞—Ç—å –∏ –æ–±—Ä–µ—Å—Ç–∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ\n`;
    text += `‚Ä¢ –°–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —Ç—Ä–µ–≤–æ–≥–æ–π –∏ –ø–∞–Ω–∏—á–µ—Å–∫–∏–º–∏ –∞—Ç–∞–∫–∞–º–∏\n`;
    text += `‚Ä¢ –ù–∞—É—á–∏—Ç—å—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç—Ä–µ—Å—Å–æ–º –∏ —ç–º–æ—Ü–∏—è–º–∏\n`;
    text += `‚Ä¢ –£–∫—Ä–µ–ø–∏—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ –Ω–∞ –¥–æ–ª–≥–∏–µ –≥–æ–¥—ã\n\n`;
    text += `üìû –ö–∞–±–∏–Ω–µ—Ç —Ö–æ—Ä–æ—à–µ–≥–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∞\n`;
    text += `–°–∞–π—Ç: https://–∫–∞–±–∏–Ω–µ—Ç-—Ö–æ—Ä–æ—à–µ–≥–æ-–ø—Å–∏—Ö–æ–ª–æ–≥–∞.—Ä—Ñ\n`;
    text += `WhatsApp: +7 960 258-60-60\n\n`;
    text += `–Ø ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Å–∏—Ö–æ–ª–æ–≥ —Å –±–æ–ª—å—à–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –∏–º–µ–Ω–Ω–æ –Ω–∞ —Ç–æ–º, —á—Ç–æ –≤–∞—Å –±–µ—Å–ø–æ–∫–æ–∏—Ç: –¥–µ–ø—Ä–µ—Å—Å–∏—è, —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å, —Å—Ç—Ä–µ—Å—Å, –ø–∞–Ω–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏.\n\n`;
    text += `–í–º–µ—Å—Ç–µ –º—ã –ø—Ä–æ–π–¥–µ–º —ç—Ç–æ—Ç –ø—É—Ç—å. –ü–µ—Ä–≤—ã–π —à–∞–≥ ‚Äî —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π. –ù–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å! üíö\n\n`;
  } else if (hasModerateSymptoms) {
    text += `${'‚îÅ'.repeat(60)}\n\n`;
    text += `üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:\n\n`;
    text += `–£ –≤–∞—Å –µ—Å—Ç—å —Ç—Ä–µ–≤–æ–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã. –ù–µ –∂–¥–∏—Ç–µ, –ø–æ–∫–∞ —Å—Ç–∞–Ω–µ—Ç —Ö—É–∂–µ! –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –∏ —Ä–∞–Ω–Ω—è—è —Ä–∞–±–æ—Ç–∞ —Å –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º –ø–æ–º–æ–≥—É—Ç –≤–∞–º:\n`;
    text += `‚Ä¢ –ù–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏—è —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º\n`;
    text += `‚Ä¢ –£–∫—Ä–µ–ø–∏—Ç—å –º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ\n`;
    text += `‚Ä¢ –ù–∞—É—á–∏—Ç—å—Å—è —Ç–µ—Ö–Ω–∏–∫–∞–º —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü–∏–∏\n`;
    text += `‚Ä¢ –ñ–∏—Ç—å —Å–ø–æ–∫–æ–π–Ω–µ–µ –∏ —Å—á–∞—Å—Ç–ª–∏–≤–µ–µ\n\n`;
    text += `üìû –ö–∞–±–∏–Ω–µ—Ç —Ö–æ—Ä–æ—à–µ–≥–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∞\n`;
    text += `–°–∞–π—Ç: https://–∫–∞–±–∏–Ω–µ—Ç-—Ö–æ—Ä–æ—à–µ–≥–æ-–ø—Å–∏—Ö–æ–ª–æ–≥–∞.—Ä—Ñ\n`;
    text += `WhatsApp: +7 960 258-60-60\n\n`;
    text += `–ü–æ–∑–∞–±–æ—Ç—å—Ç–µ—Å—å –æ —Å–µ–±–µ —Å–µ–π—á–∞—Å, —á—Ç–æ–±—ã –∑–∞–≤—Ç—Ä–∞ –±—ã–ª–æ –ª–µ–≥—á–µ! üå±\n\n`;
  } else {
    text += `${'‚îÅ'.repeat(60)}\n\n`;
    text += `üåà –û–¢–õ–ò–ß–ù–ê–Ø –ù–û–í–û–°–¢–¨!\n\n`;
    text += `–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –Ω–æ—Ä–º–µ! –ù–æ –ø–æ–º–Ω–∏—Ç–µ: –º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ –Ω—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å, –∫–∞–∫ –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ.\n\n`;
    text += `–ï—Å–ª–∏ –∑–∞–º–µ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–ª–∏ –∑–∞—Ö–æ—Ç–∏—Ç–µ –Ω–∞—É—á–∏—Ç—å—Å—è –ª—É—á—à–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —ç–º–æ—Ü–∏—è–º–∏ ‚Äî —è –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å!\n\n`;
    text += `üìû –ö–∞–±–∏–Ω–µ—Ç —Ö–æ—Ä–æ—à–µ–≥–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∞\n`;
    text += `–°–∞–π—Ç: https://–∫–∞–±–∏–Ω–µ—Ç-—Ö–æ—Ä–æ—à–µ–≥–æ-–ø—Å–∏—Ö–æ–ª–æ–≥–∞.—Ä—Ñ\n`;
    text += `WhatsApp: +7 960 258-60-60\n\n`;
  }

  text += `${'‚îÅ'.repeat(60)}\n\n`;
  text += `üéØ –ë–ê–ó–û–í–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:\n\n`;
  
  generalRecommendations.forEach((rec, index) => {
    text += `${index + 1}. ${rec.title}\n`;
    text += `   ${rec.description}\n\n`;
  });

  text += `${'‚îÅ'.repeat(60)}\n\n`;
  text += `‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä: –≠—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é. –î–ª—è —Ç–æ—á–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É.\n`;

  return text;
};

export const shareResults = async (depressionScore: number, stressScore: number, anxietyScore: number) => {
  const text = generateResultsText(depressionScore, stressScore, anxietyScore);
  
  if (navigator.share) {
    try {
      await navigator.share({
        title: '–ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –Ω–∞ –º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ',
        text: text,
      });
      return true;
    } catch (error) {
      if ((error as Error).name === 'AbortError') {
        return false;
      }
      return false;
    }
  }
  
  return false;
};
