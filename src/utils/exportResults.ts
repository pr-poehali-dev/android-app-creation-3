export const getDepressionLevel = (score: number) => {
  if (score <= 6) return '–ù–∏–∑–∫–∏–π';
  if (score <= 12) return '–£–º–µ—Ä–µ–Ω–Ω—ã–π';
  if (score <= 18) return '–°—Ä–µ–¥–Ω–∏–π';
  return '–í—ã—Å–æ–∫–∏–π';
};

export const getStressLevel = (score: number) => {
  if (score <= 6) return '–ù–∏–∑–∫–∏–π';
  if (score <= 12) return '–£–º–µ—Ä–µ–Ω–Ω—ã–π';
  if (score <= 18) return '–°—Ä–µ–¥–Ω–∏–π';
  return '–í—ã—Å–æ–∫–∏–π';
};

export const getAnxietyLevel = (score: number) => {
  if (score <= 6) return '–ù–∏–∑–∫–∏–π';
  if (score <= 12) return '–£–º–µ—Ä–µ–Ω–Ω—ã–π';
  if (score <= 18) return '–°—Ä–µ–¥–Ω–∏–π';
  return '–í—ã—Å–æ–∫–∏–π';
};

const generalRecommendations = [
  {
    title: '–ó–¥–æ—Ä–æ–≤—ã–π —Å–æ–Ω',
    description: '–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Å–ø–∞—Ç—å 7-9 —á–∞—Å–æ–≤ –≤ —Å—É—Ç–∫–∏. –°–æ–±–ª—é–¥–∞–π—Ç–µ —Ä–µ–∂–∏–º —Å–Ω–∞.',
  },
  {
    title: '–§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
    description: '–†–µ–≥—É–ª—è—Ä–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç —Å–Ω–∏–∑–∏—Ç—å —Å—Ç—Ä–µ—Å—Å –∏ —É–ª—É—á—à–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ.',
  },
  {
    title: '–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ',
    description: '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Å–∏—Ö–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.',
  },
  {
    title: '–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã',
    description: '–û–±—â–µ–Ω–∏–µ —Å –±–ª–∏–∑–∫–∏–º–∏ –ª—é–¥—å–º–∏ –ø–æ–º–æ–≥–∞–µ—Ç —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏.',
  },
  {
    title: '–ü—Ä–∞–∫—Ç–∏–∫–∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏',
    description: '–ú–µ–¥–∏—Ç–∞—Ü–∏—è –∏ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç —Å–Ω–∏–∑–∏—Ç—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å.',
  },
  {
    title: '–•–æ–±–±–∏ –∏ —É–≤–ª–µ—á–µ–Ω–∏—è',
    description: '–£–¥–µ–ª—è–π—Ç–µ –≤—Ä–µ–º—è —Ç–æ–º—É, —á—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç –≤–∞–º —Ä–∞–¥–æ—Å—Ç—å –∏ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ.',
  },
];

export const generateResultsText = (depressionScore: number, stressScore: number, anxietyScore: number): string => {
  const maxScore = 24;
  const depressionLevel = getDepressionLevel(depressionScore);
  const stressLevel = getStressLevel(stressScore);
  const anxietyLevel = getAnxietyLevel(anxietyScore);
  const needsProfessionalHelp = depressionScore > 12 || stressScore > 12 || anxietyScore > 12;
  const hasModerateSymptoms = depressionScore > 6 || stressScore > 6 || anxietyScore > 6;
  const date = new Date().toLocaleDateString('ru-RU', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });

  let text = `–†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –ú–ï–ù–¢–ê–õ–¨–ù–û–ì–û –ó–î–û–†–û–í–¨–Ø\n`;
  text += `–î–∞—Ç–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è: ${date}\n`;
  text += `\n${'='.repeat(60)}\n\n`;

  text += `üìä –í–ê–®–ò –†–ï–ó–£–õ–¨–¢–ê–¢–´\n\n`;
  text += `–î–µ–ø—Ä–µ—Å—Å–∏—è: ${depressionScore} –∏–∑ ${maxScore} –±–∞–ª–ª–æ–≤\n`;
  text += `–£—Ä–æ–≤–µ–Ω—å: ${depressionLevel}\n\n`;
  text += `–°—Ç—Ä–µ—Å—Å: ${stressScore} –∏–∑ ${maxScore} –±–∞–ª–ª–æ–≤\n`;
  text += `–£—Ä–æ–≤–µ–Ω—å: ${stressLevel}\n\n`;
  text += `–¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: ${anxietyScore} –∏–∑ ${maxScore} –±–∞–ª–ª–æ–≤\n`;
  text += `–£—Ä–æ–≤–µ–Ω—å: ${anxietyLevel}\n\n`;

  text += `${'='.repeat(60)}\n\n`;
  text += `üìã –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –°–û–°–¢–û–Ø–ù–ò–Ø\n\n`;
  
  if (depressionScore <= 6) {
    text += `‚úÖ –î–µ–ø—Ä–µ—Å—Å–∏—è: –ü–æ —à–∫–∞–ª–µ –¥–µ–ø—Ä–µ—Å—Å–∏–∏ –≤–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –Ω–æ—Ä–º–µ. –í—ã —Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å —Å —ç–º–æ—Ü–∏—è–º–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å –∫ –∂–∏–∑–Ω–∏.\n\n`;
  } else if (depressionScore <= 12) {
    text += `‚ö†Ô∏è –î–µ–ø—Ä–µ—Å—Å–∏—è: –£ –≤–∞—Å –Ω–∞–±–ª—é–¥–∞—é—Ç—Å—è –ª–µ–≥–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –¥–µ–ø—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã —á–∞—â–µ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –≥—Ä—É—Å—Ç—å –∏–ª–∏ –ø–æ—Ç–µ—Ä—é –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫ –ø—Ä–∏–≤—ã—á–Ω—ã–º –∑–∞–Ω—è—Ç–∏—è–º. –í–∞–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —ç—Ç–æ –∏ –ø–æ–∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —Å–µ–±–µ.\n\n`;
  } else if (depressionScore <= 18) {
    text += `üî¥ –î–µ–ø—Ä–µ—Å—Å–∏—è: –í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —É–º–µ—Ä–µ–Ω–Ω—É—é –¥–µ–ø—Ä–µ—Å—Å–∏—é. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–º, —Å–Ω–æ–º –∏ —ç–Ω–µ—Ä–≥–∏–µ–π. –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å –ø—Å–∏—Ö–æ–ª–æ–≥–∞ –ø–æ–º–æ–∂–µ—Ç —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —ç—Ç–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.\n\n`;
  } else {
    text += `üÜò –î–µ–ø—Ä–µ—Å—Å–∏—è: –í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ–ø—Ä–µ—Å—Å–∏–∏ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è. –í—ã –º–æ–∂–µ—Ç–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–∏–ª—å–Ω—É—é –ø–æ–¥–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å, –±–µ—Å–ø–æ–º–æ—â–Ω–æ—Å—Ç—å –∏ –ø–æ—Ç–µ—Ä—é –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫ –∂–∏–∑–Ω–∏. –û—á–µ–Ω—å –≤–∞–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏.\n\n`;
  }

  if (stressScore <= 6) {
    text += `‚úÖ –°—Ç—Ä–µ—Å—Å: –£—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ –≤ –Ω–æ—Ä–º–µ. –í—ã —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å —Å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ.\n\n`;
  } else if (stressScore <= 12) {
    text += `‚ö†Ô∏è –°—Ç—Ä–µ—Å—Å: –í—ã –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç–µ —É–º–µ—Ä–µ–Ω–Ω—ã–π —Å—Ç—Ä–µ—Å—Å. –í–æ–∑–º–æ–∂–Ω–æ, —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É, —Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–ª–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ–º. –í–∞–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤—Ä–µ–º—è –¥–ª—è –æ—Ç–¥—ã—Ö–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.\n\n`;
  } else if (stressScore <= 18) {
    text += `üî¥ –°—Ç—Ä–µ—Å—Å: –í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ –æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–µ—Ä—å—ë–∑–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –≤–∞—à—É –∂–∏–∑–Ω—å. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Å–∏–º–ø—Ç–æ–º—ã (–≥–æ–ª–æ–≤–Ω—ã–µ –±–æ–ª–∏, –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ), —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ–º —Ä–µ—à–µ–Ω–∏–π.\n\n`;
  } else {
    text += `üÜò –°—Ç—Ä–µ—Å—Å: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞. –í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç —Å–µ—Ä—å—ë–∑–Ω–æ –≤–ª–∏—è—Ç—å –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø–æ–º–æ—â—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞.\n\n`;
  }

  if (anxietyScore <= 6) {
    text += `‚úÖ –¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: –£—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã. –í—ã —Å–ø–æ–∫–æ–π–Ω—ã –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–∏—Ç—É–∞—Ü–∏–π.\n\n`;
  } else if (anxietyScore <= 12) {
    text += `‚ö†Ô∏è –¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: –£ –≤–∞—Å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å. –í—ã –º–æ–∂–µ—Ç–µ —á–∞—â–µ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ –±—É–¥—É—â–µ–º, –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∏–ª–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —Ç—Ä–µ–≤–æ–∂–Ω—ã—Ö –º—ã—Å–ª–µ–π.\n\n`;
  } else if (anxietyScore <= 18) {
    text += `üî¥ –¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: –í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å–Ω–∏–∂–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏. –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–±–µ–≥–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π, –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Å–∏–º–ø—Ç–æ–º—ã (—É—á–∞—â–µ–Ω–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ, –æ–¥—ã—à–∫–∞).\n\n`;
  } else {
    text += `üÜò –¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å –ø–∞–Ω–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏, —Å–∏–ª—å–Ω—ã–π —Å—Ç—Ä–∞—Ö –±–µ–∑ –≤–∏–¥–∏–º–æ–π –ø—Ä–∏—á–∏–Ω—ã. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–º–æ—â—å—é.\n\n`;
  }

  if (needsProfessionalHelp) {
    text += `${'='.repeat(60)}\n\n`;
    text += `‚ö†Ô∏è –í–ê–ñ–ù–û: –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –ö–û–ù–°–£–õ–¨–¢–ê–¶–ò–Ø –°–ü–ï–¶–ò–ê–õ–ò–°–¢–ê\n\n`;
    text += `–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –≤–∞–º –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞. –ü—Å–∏—Ö–æ–ª–æ–≥ –ø–æ–º–æ–∂–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Å–∏—Ç—É–∞—Ü–∏–∏ –∏ –Ω–∞–π—Ç–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.\n\n`;
    text += `üìû –ö–∞–±–∏–Ω–µ—Ç —Ö–æ—Ä–æ—à–µ–≥–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∞\n`;
    text += `–°–∞–π—Ç: https://–∫–∞–±–∏–Ω–µ—Ç-—Ö–æ—Ä–æ—à–µ–≥–æ-–ø—Å–∏—Ö–æ–ª–æ–≥–∞.—Ä—Ñ\n`;
    text += `WhatsApp: +7 960 258-60-60\n\n`;
    text += `–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã–π –ø—Å–∏—Ö–æ–ª–æ–≥ —Å –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ä–∞–±–æ—Ç–µ —Å –¥–µ–ø—Ä–µ—Å—Å–∏–µ–π, —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å—é, —Å—Ç—Ä–µ—Å—Å–æ–º –∏ –¥—Ä—É–≥–∏–º–∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏.\n\n`;
  }

  text += `${'='.repeat(60)}\n\n`;
  text += `üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ –°–û–°–¢–û–Ø–ù–ò–Ø\n\n`;
  
  generalRecommendations.forEach((rec, index) => {
    text += `${index + 1}. ${rec.title}\n`;
    text += `   ${rec.description}\n\n`;
  });

  if (hasModerateSymptoms && !needsProfessionalHelp) {
    text += `${'='.repeat(60)}\n\n`;
    text += `‚ÑπÔ∏è –°–õ–ï–î–ò–¢–ï –ó–ê –°–í–û–ò–ú –°–û–°–¢–û–Ø–ù–ò–ï–ú\n\n`;
    text += `–ï—Å–ª–∏ —Å–∏–º–ø—Ç–æ–º—ã —É—Å–∏–ª–∏–≤–∞—é—Ç—Å—è –∏–ª–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º.\n\n`;
  }

  text += `${'='.repeat(60)}\n\n`;
  text += `–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–æ—Å—è—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä.\n`;

  return text;
};

export const shareResults = async (depressionScore: number, stressScore: number, anxietyScore: number) => {
  const text = generateResultsText(depressionScore, stressScore, anxietyScore);
  
  if (navigator.share) {
    try {
      await navigator.share({
        title: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –Ω–∞ –º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ',
        text: text,
      });
      return true;
    } catch (error) {
      if ((error as Error).name === 'AbortError') {
        return false;
      }
      return false;
    }
  }
  
  return false;
};
