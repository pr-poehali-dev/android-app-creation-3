import { Card } from '@/components/ui/card';
import Icon from '@/components/ui/icon';
import { useState } from 'react';

interface Article {
  id: string;
  title: string;
  icon: string;
  preview: string;
  content: string[];
}

const articles: Article[] = [
  {
    id: 'panic-attacks',
    title: 'Панические атаки',
    icon: 'Heart',
    preview: 'Что такое панические атаки и как с ними справиться',
    content: [
      'Паническая атака — это внезапный приступ сильного страха или дискомфорта, который достигает пика в течение нескольких минут.',
      'Симптомы: учащенное сердцебиение, потливость, дрожь, ощущение нехватки воздуха, боль в груди, тошнота, головокружение, страх смерти или потери контроля.',
      'Важно понимать: паническая атака не опасна для жизни, хотя ощущения могут быть очень пугающими.',
      'Что помогает: дыхательные техники (медленное глубокое дыхание), заземление (концентрация на физических ощущениях), когнитивно-поведенческая терапия.',
      'Помните: с паническими атаками можно научиться справляться. Психотерапия показывает высокую эффективность в лечении панического расстройства.',
    ],
  },
  {
    id: 'vsd',
    title: 'ВСД (Вегето-сосудистая дистония)',
    icon: 'Activity',
    preview: 'Понимание и работа с вегетативной дисфункцией',
    content: [
      'ВСД — это комплекс симптомов, связанных с нарушением работы вегетативной нервной системы, которая регулирует работу внутренних органов.',
      'Основная причина: хронический стресс, тревога и эмоциональное напряжение.',
      'Симптомы: скачки давления, головокружения, слабость, потливость, ощущение нехватки воздуха, боли в области сердца.',
      'Важно: большинство симптомов ВСД имеют функциональный характер и связаны с тревогой, а не с органическими заболеваниями.',
      'Лечение: работа с психотерапевтом для снижения уровня тревоги, обучение техникам релаксации, нормализация режима дня и сна.',
    ],
  },
  {
    id: 'neurosis',
    title: 'Невроз',
    icon: 'Brain',
    preview: 'Что такое невроз и как вернуть эмоциональное равновесие',
    content: [
      'Невроз — это психогенное расстройство, возникающее в результате длительного стресса или психологической травмы.',
      'Виды неврозов: тревожный невроз, обсессивно-компульсивный невроз, истерический невроз, неврастения.',
      'Симптомы: повышенная тревожность, раздражительность, быстрая утомляемость, нарушения сна, навязчивые мысли или действия.',
      'Причины: длительный стресс, внутренние конфликты, детские психологические травмы, неразрешенные эмоциональные проблемы.',
      'Путь к выздоровлению: психотерапия (особенно эффективна когнитивно-поведенческая терапия), работа с эмоциями, изменение образа мыслей.',
    ],
  },
  {
    id: 'phobias',
    title: 'Фобии и страхи',
    icon: 'AlertCircle',
    preview: 'Преодоление иррациональных страхов',
    content: [
      'Фобия — это интенсивный, иррациональный страх перед определенным объектом или ситуацией.',
      'Распространенные фобии: социальная фобия, агорафобия (страх открытых пространств), клаустрофобия, специфические фобии (высота, животные, полеты).',
      'Механизм формирования: фобии часто развиваются после травмирующего опыта или как способ защиты от более глубокой тревоги.',
      'Проявления: избегающее поведение, панические реакции при столкновении с объектом страха, ограничение жизненных возможностей.',
      'Эффективное лечение: экспозиционная терапия (постепенное контролируемое столкновение со страхом), когнитивная терапия, техники релаксации.',
    ],
  },
  {
    id: 'ocd',
    title: 'ОКР (Обсессивно-компульсивное расстройство)',
    icon: 'RotateCw',
    preview: 'Навязчивые мысли и действия: понимание и помощь',
    content: [
      'ОКР — расстройство, характеризующееся навязчивыми мыслями (обсессиями) и повторяющимися действиями (компульсиями).',
      'Обсессии: навязчивые мысли о загрязнении, причинении вреда, порядке, религиозные или сексуальные навязчивости.',
      'Компульсии: ритуалы мытья, проверок, счета, упорядочивания, которые человек выполняет, чтобы снизить тревогу.',
      'Важно понимать: человек с ОКР осознает иррациональность своих мыслей и действий, но не может их контролировать.',
      'Лечение: когнитивно-поведенческая терапия с экспозицией и предотвращением реакций (ЭПР), медикаментозная поддержка в сложных случаях.',
    ],
  },
  {
    id: 'mental-health',
    title: 'Ментальное здоровье',
    icon: 'Smile',
    preview: 'Что такое ментальное здоровье и почему оно важно',
    content: [
      'Ментальное здоровье — это состояние благополучия, при котором человек может реализовать свой потенциал, справляться со стрессом и продуктивно работать.',
      'Признаки хорошего ментального здоровья: эмоциональная стабильность, способность строить отношения, адекватная самооценка, стрессоустойчивость.',
      'Факторы риска: хронический стресс, социальная изоляция, детские травмы, генетическая предрасположенность, соматические заболевания.',
      'Как заботиться о ментальном здоровье: регулярный отдых, физическая активность, качественный сон, социальные связи, хобби.',
      'Важно: обращение к психологу или психотерапевту — это не признак слабости, а забота о себе и своем качестве жизни.',
    ],
  },
  {
    id: 'stress',
    title: 'Жизнь без стресса',
    icon: 'Wind',
    preview: 'Важность управления стрессом для здоровья',
    content: [
      'Хронический стресс — один из главных факторов, разрушающих здоровье современного человека.',
      'Влияние стресса на организм: снижение иммунитета, сердечно-сосудистые проблемы, нарушения пищеварения, гормональный дисбаланс.',
      'Стресс и психика: тревожность, депрессия, эмоциональное выгорание, нарушения сна, проблемы с концентрацией.',
      'Управление стрессом: практики осознанности, регулярная физическая активность, здоровые границы в отношениях, тайм-менеджмент.',
      'Профилактика: научитесь говорить "нет", делегируйте задачи, находите время для отдыха, обращайтесь за помощью.',
      'Помните: невозможно устранить стресс полностью, но можно научиться здоровым способам реагирования на него.',
    ],
  },
  {
    id: 'psychosomatics',
    title: 'Психосоматика',
    icon: 'Heart',
    preview: 'Связь между эмоциями и физическим здоровьем',
    content: [
      'Психосоматика — направление медицины, изучающее влияние психологических факторов на возникновение и течение физических заболеваний.',
      'Основная идея: наше тело реагирует на подавленные эмоции, стресс и внутренние конфликты через физические симптомы.',
      'Механизм: хронический стресс и негативные эмоции вызывают изменения в работе нервной и эндокринной систем, что влияет на органы.',
      'Классические психосоматические заболевания: язвенная болезнь, гипертония, астма, нейродермит, синдром раздраженного кишечника.',
      'Важно понимать: физические симптомы реальны, но их первопричина может быть психологической.',
      'Подход к лечению: комбинация медицинского лечения и психотерапии дает наилучшие результаты.',
    ],
  },
];

const psychosomaticTable = [
  {
    organ: 'Головные боли, мигрени',
    emotions: 'Подавленный гнев, перфекционизм, самокритика',
    meaning: 'Чрезмерный контроль, страх ошибиться',
    solution: 'Разрешите себе быть несовершенным, выражайте эмоции',
  },
  {
    organ: 'Сердце, гипертония',
    emotions: 'Длительный стресс, неразрешенные конфликты',
    meaning: 'Эмоциональная перегрузка, недостаток любви к себе',
    solution: 'Научитесь отдыхать, практикуйте самопринятие',
  },
  {
    organ: 'Желудок, гастрит, язва',
    emotions: 'Тревога, страх, подавленная агрессия',
    meaning: 'Неспособность "переварить" жизненные ситуации',
    solution: 'Работайте с тревогой, выражайте недовольство конструктивно',
  },
  {
    organ: 'Кишечник, СРК',
    emotions: 'Страх отпустить контроль, тревожность',
    meaning: 'Трудности с принятием изменений',
    solution: 'Развивайте гибкость мышления, учитесь доверять процессу',
  },
  {
    organ: 'Спина, поясница',
    emotions: 'Чувство отсутствия поддержки, непосильная ноша',
    meaning: 'Взятие на себя слишком большой ответственности',
    solution: 'Просите о помощи, делегируйте обязанности',
  },
  {
    organ: 'Шея, плечи',
    emotions: 'Ощущение бремени, груз обязательств',
    meaning: 'Невысказанное "нет", игнорирование своих потребностей',
    solution: 'Установите границы, научитесь отказывать',
  },
  {
    organ: 'Горло, ангины',
    emotions: 'Невысказанные слова, подавленный гнев',
    meaning: 'Страх выразить свое мнение, быть услышанным',
    solution: 'Развивайте уверенность, говорите о своих чувствах',
  },
  {
    organ: 'Кожа, дерматиты',
    emotions: 'Раздражение, тревога, потребность в защите',
    meaning: 'Нарушение личных границ, чувствительность к критике',
    solution: 'Укрепляйте самооценку, защищайте свои границы',
  },
  {
    organ: 'Суставы, артрит',
    emotions: 'Ригидность мышления, упрямство',
    meaning: 'Сопротивление изменениям, подавленный гнев',
    solution: 'Развивайте гибкость, практикуйте прощение',
  },
  {
    organ: 'Легкие, астма',
    emotions: 'Подавленные эмоции, страх жить полной жизнью',
    meaning: 'Ограничение себя, невозможность "дышать полной грудью"',
    solution: 'Дайте себе право на полноценную жизнь, выражайте чувства',
  },
  {
    organ: 'Щитовидная железа',
    emotions: 'Подавленное самовыражение, унижение',
    meaning: 'Невозможность быть собой, жить своей жизнью',
    solution: 'Найдите свой голос, живите в соответствии со своими ценностями',
  },
  {
    organ: 'Мочеполовая система',
    emotions: 'Страх, обида на партнера, чувство вины',
    meaning: 'Проблемы в отношениях, старые обиды',
    solution: 'Проработайте обиды, простите себя и других',
  },
];

const ArticlesSection = () => {
  const [expandedArticle, setExpandedArticle] = useState<string | null>(null);
  const [showTable, setShowTable] = useState(false);

  const toggleArticle = (id: string) => {
    setExpandedArticle(expandedArticle === id ? null : id);
  };

  return (
    <div className="max-w-6xl mx-auto space-y-6">
      <Card className="p-6 sm:p-8 shadow-lg">
        <h2 className="text-2xl sm:text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3">
          <Icon name="BookOpen" size={28} className="text-primary" />
          Полезная информация о ментальном здоровье
        </h2>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          {articles.map((article) => (
            <Card
              key={article.id}
              className="p-5 hover:shadow-md transition-shadow cursor-pointer bg-gradient-to-br from-white to-orange-50"
              onClick={() => toggleArticle(article.id)}
            >
              <div className="flex items-start gap-3 mb-3">
                <div className="bg-primary text-white p-2 rounded-lg">
                  <Icon name={article.icon as any} size={20} />
                </div>
                <div className="flex-1">
                  <h3 className="font-semibold text-gray-900 mb-1">{article.title}</h3>
                  <p className="text-sm text-gray-600">{article.preview}</p>
                </div>
                <Icon
                  name={expandedArticle === article.id ? 'ChevronUp' : 'ChevronDown'}
                  size={20}
                  className="text-gray-400 flex-shrink-0"
                />
              </div>

              {expandedArticle === article.id && (
                <div className="mt-4 pt-4 border-t border-gray-200 space-y-3">
                  {article.content.map((paragraph, idx) => (
                    <p key={idx} className="text-sm text-gray-700 leading-relaxed">
                      {paragraph}
                    </p>
                  ))}
                </div>
              )}
            </Card>
          ))}
        </div>
      </Card>

      <Card className="p-6 sm:p-8 shadow-lg bg-gradient-to-br from-amber-50 to-orange-50">
        <div className="flex items-start justify-between mb-6">
          <div>
            <h2 className="text-2xl sm:text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3">
              <Icon name="Table" size={28} className="text-primary" />
              Таблица психосоматических заболеваний
            </h2>
            <p className="text-gray-700">
              Связь между эмоциями и физическими проявлениями
            </p>
          </div>
        </div>

        <button
          onClick={() => setShowTable(!showTable)}
          className="mb-6 flex items-center gap-2 text-primary hover:text-primary/80 font-semibold"
        >
          <Icon name={showTable ? 'ChevronUp' : 'ChevronDown'} size={20} />
          {showTable ? 'Скрыть таблицу' : 'Показать таблицу'}
        </button>

        {showTable && (
          <div className="overflow-x-auto">
            <table className="w-full bg-white rounded-lg overflow-hidden shadow">
              <thead className="bg-primary text-white">
                <tr>
                  <th className="px-4 py-3 text-left text-sm font-semibold">Орган / Симптом</th>
                  <th className="px-4 py-3 text-left text-sm font-semibold">Эмоции</th>
                  <th className="px-4 py-3 text-left text-sm font-semibold">Значение</th>
                  <th className="px-4 py-3 text-left text-sm font-semibold">Путь к исцелению</th>
                </tr>
              </thead>
              <tbody>
                {psychosomaticTable.map((row, idx) => (
                  <tr
                    key={idx}
                    className={idx % 2 === 0 ? 'bg-gray-50' : 'bg-white'}
                  >
                    <td className="px-4 py-3 text-sm font-medium text-gray-900">{row.organ}</td>
                    <td className="px-4 py-3 text-sm text-gray-700">{row.emotions}</td>
                    <td className="px-4 py-3 text-sm text-gray-700">{row.meaning}</td>
                    <td className="px-4 py-3 text-sm text-gray-700">{row.solution}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        )}

        <div className="mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200">
          <div className="flex items-start gap-3">
            <Icon name="Info" size={20} className="text-blue-600 flex-shrink-0 mt-1" />
            <div>
              <h4 className="font-semibold text-blue-900 mb-2">Важное напоминание</h4>
              <p className="text-sm text-blue-800">
                Психосоматические заболевания требуют комплексного подхода. Обязательно обращайтесь
                к врачу для диагностики и лечения физических симптомов. Работа с психологом или
                психотерапевтом помогает выявить и проработать эмоциональные причины заболеваний.
              </p>
            </div>
          </div>
        </div>
      </Card>
    </div>
  );
};

export default ArticlesSection;
